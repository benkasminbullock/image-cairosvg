#!/home/ben/software/install/bin/perl
use warnings;
use strict;
use lib '/home/ben/projects/image-cairosvg/lib';
use Image::CairoSVG;
use Getopt::Long;

my $ok = GetOptions (
    verbose => \my $verbose,
);
if (! $ok) {
    print <<EOF;
--verbose  - print debugging messages
EOF
    exit;
}
for my $file (@ARGV) {
    my $cairosvg = Image::CairoSVG->new (verbose => $verbose);
    my $outfile = $file;
    $outfile =~ s/\.svg$/\.png/i;
    if ($outfile eq $file) {
	$outfile = "$file.png";
    }
    eval {
	my $surface = $cairosvg->render ($file);
	$surface->write_to_png ($outfile);
    };
    if ($@) {
	warn "$0 failed for $file: $@\n";
    }
}

# Local variables:
# mode: perl
# End:
